# Green IT Monitor & Advisor

This project implements a multi-agent Python system designed to monitor IT infrastructure events, calculate energy consumption and CO2 emissions, predict potential failures, and provide actionable advice for reducing the carbon footprint using Large Language Models (LLMs).

## Project Overview

The system simulates a small enterprise environment with:
- 10 Servers
- 20 Workstations
- 5 Automates
- 1 Internet Gateway

It processes infrastructure events (e.g., CPU overload, software updates, failures) to adjust energy consumption dynamically and uses AI to analyze the impact.

## Features

- **Event Processing**: Ingests resource events from `input_events.json`.
- **Dynamic Energy Calculation**: Calculates energy usage (Wh) based on:
  - Resource type (Server, Workstation, Automate, Gateway).
  - Time of day (Production: 8am-8pm vs. Night).
  - specific event modifiers (e.g., +100% for CPU overload, -30% for updates).
- **CO2 Emission Estimation**: Converts energy usage to CO2 emissions (kg).
- **AI Failure Prediction**: Uses LLM to analyze event logs and predict future failure risks.
- **AI Advisory**: Identifies top high-consumption resources and provides specific, actionable advice to reduce emissions.

## Prerequisites

- Python 3.8+
- An OpenRouter API Key (or compatible LLM API).

## Installation

1. Clone the repository or download the source code.
2. Install the required dependencies:

```bash
pip install -r requirements.txt
```

## Configuration

1. Create a `.env` file in the root directory (or use the provided template).
2. Add your OpenRouter API Key:

```env
OPENROUTER_API_KEY=your_api_key_here
```

## Usage

The system consists of two sequential agents.

### 1. Monitor Agent (`agent_monitor.py`)

This agent processes events, predicts failures, and calculates the carbon footprint for the last week.

```bash
python agent_monitor.py
```

**Outputs:**
- `events_db.json`: Database of events with AI failure predictions.
- `summary_report.json`: Structured data of energy consumption and CO2 emissions per resource.
- `summary_report.txt`: Textual summary report generated by AI.

### 2. Advisor Agent (`agent_advisor.py`)

This agent reads the summary report, identifies the top 3 highest consuming resources, and generates specific advice.

```bash
python agent_advisor.py
```

**Outputs:**
- `advice_report.txt`: Specific, actionable advice to reduce CO2 emissions for the critical resources.

## Project Structure

- `agent_monitor.py`: Main logic for event processing, calculation, and reporting.
- `agent_advisor.py`: Logic for analyzing reports and generating Green IT advice.
- `input_events.json`: Input data containing resource events.
- `requirements.txt`: Python dependencies.
- `.env`: Environment variables configuration.

## Calculation Rules

| Event Type | Energy Modifier |
|------------|-----------------|
| CPU Overload | +100% |
| CPU Max Heat Threshold | +80% |
| Fan Failure | +50% |
| Software/OS Update | -30% |
| Service Failure | -70% |
| OS/Hardware Failure | -100% |
| Maintenance Stop | -100% |
